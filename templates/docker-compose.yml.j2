---
version: "2"

services:
    {{service_name}}:
        image: "{{service_image}}"
        restart: "{{service_restart}}"
{% if service_environment|length > 0 %}
        environment:
{% endif %}
{% for key, value in service_environment.items() %}
          {{key}}: {{value}}
{% endfor %}
{% if service_ports|length > 0 %}
        ports:
{% endif %}
{% for key, value in service_ports.items() %}
          - "{{key}}:{{value}}"
{% endfor %}
{% if service_volumes|length > 0 %}
        volumes:
{% endif %}
{% for key, value in service_volumes.items() %}
          - "{{key}}:{{value}}"
{% endfor %}

{% if service_volumes|length > 0 %}
volumes:
{% endif %}
{% for key, value in service_volumes.items() %}
  "{{key}}:"
{% endfor %}